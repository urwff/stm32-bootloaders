---
name: question-logger
description: 在指定目录下使用 Markdown 文件记录问题、困惑和学习笔记。当用户说"记录这个问题"、"我理解错了"、"这个解决不了"、"添加到问题笔记"或使用 /log-question 时触发此技能。
---

# 问题记录技能

在用户指定的目录下创建和维护 Markdown 文件，记录遇到的问题、理解错误和待解决事项。

## 工作流程

### 1. 确定记录目录

首次使用时，询问用户问题记录的目标目录。如果用户未指定，使用当前工作区下的 `doc/questions/` 目录。

### 2. 确定问题信息

从对话上下文中提取以下信息：
- **问题标题**：简短描述问题
- **问题分类**：`理解错误` | `待解决` | `已解决` | `知识盲点`
- **相关技术**：涉及的技术栈或模块
- **背景信息**：
    - **正在实现的功能**：[简述当时的目标]
    - **当前操作**：[描述问题发生时正在编写的代码或执行的操作]
- **问题详情**：详细描述问题内容
- **问题代码**（如有）：导致问题的代码片段，使用带语言标注的代码块
- **解决代码**（如有）：修复后的正确代码，使用带语言标注的代码块
- **解决方案**（如有）：问题的解决方法或思路

### 3. 记录问题

将问题追加到目标目录的 `questions.md` 文件中，使用以下格式：

```markdown
## [问题标题]

- **日期**：YYYY-MM-DD
- **分类**：#理解错误 | #待解决 | #已解决 | #知识盲点
- **技术**：相关技术标签

### 背景信息

- **正在实现的功能**：[简述当时的目标]
- **当前操作**：[描述问题发生时正在编写的代码或执行的操作]

### 问题描述

[详细描述问题内容]

### 问题代码

[如有导致问题的代码，使用带语言标注的代码块展示。若无具体代码可省略此节]

### 解决代码

[如有修复后的正确代码，使用带语言标注的代码块展示。若无具体代码可省略此节]

### 解决方案

[如果有解决方案则填写，否则留空或标记"待解决"]

---
```

### 4. 更新索引（可选）

如果问题文件较大（超过 50 条记录），建议：
- 按月份拆分文件：`YYYY-MM-questions.md`
- 在目录下创建 `README.md` 作为索引

## 配置选项

用户可以通过对话告知以下偏好：

| 选项 | 默认值 | 说明 |
|------|--------|------|
| 目录路径 | `doc/questions/` | 问题记录存放目录 |
| 文件模式 | 单文件 | `单文件` / `按月份` / `按主题` |
| 自动标签 | 开启 | 是否自动添加分类标签 |

## 使用示例

**用户说：** "刚才那个 memset 头文件的问题记录下来，我以前一直以为是 stdlib.h"

**Codex 应该：**
1. 在 `docs/questions/questions.md` 中追加记录：

```markdown
## memset 头文件位置

- **日期**：2026-02-09
- **分类**：#理解错误
- **技术**：C语言, 标准库

### 背景信息

- **正在实现的功能**：编写数据初始化代码
- **当前操作**：尝试使用 memset 清零缓冲区

### 问题描述

误以为 `memset` 函数定义在 `<stdlib.h>` 中，实际上应该包含 `<string.h>`。

### 问题代码

```c
#include <stdlib.h>  // 错误：memset 不在这个头文件中
memset(buffer, 0, sizeof(buffer));
```

### 解决代码

```c
#include <string.h>  // 正确：memset 在 string.h 中
memset(buffer, 0, sizeof(buffer));
```

### 解决方案

正确的头文件是 `#include <string.h>`，因为 `memset` 是内存操作函数，属于字符串处理函数族。

---
```

2. 确认记录完成："已将问题记录到 `docs/questions/questions.md`"
